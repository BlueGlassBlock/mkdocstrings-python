<!-- Import translations for given language and fallback -->

{% set lang_pth = "languages/" ~ locale ~ ".html" %}
{% if lang_pth is existing_template %}
    {% import lang_pth as lang %}
{% else %}
    {% import "languages/en.html" as lang %}
{% endif %}

{% import "_base/languages/en.html" as fallback %}

<!-- Re-export translations -->
{% macro t(key) %}{{ lang.t(key) or fallback.t(key) }}{% endmacro %}